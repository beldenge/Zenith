<nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

  <!-- Sidebar Toggle (Topbar) -->
  <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
    <i class="fa fa-bars"></i>
  </button>

  <!-- Topbar Search -->
  <form class="d-none d-sm-inline-block form-inline mr-0 ml-md-3 my-2 my-md-0 mw-100 navbar-search">
    <div class="input-group rounded bg-light">
      <select id="cipher_select" name="search" class="form-control bg-transparent border-0 small" [(ngModel)]="selectedCipher" (change)="onCipherSelect()">
        <option [ngValue]="cipher" *ngFor="let cipher of ciphers">{{cipher.name}} ({{cipher.rows}} x {{cipher.columns}})</option>
      </select>
      <div id="cipher_select_button" class="input-group-append">
        <button class="btn btn-primary cursor-default">
          <i class="fas fa-chevron-down fa-sm"></i>
        </button>
      </div>
    </div>
  </form>
  <div style="height: 38px; width: 45px; right: 45px; position: relative; background: white;"></div>

  <div class="col-xl-1">
    <a href="javascript:void(0);" class="btn btn-primary btn-icon-split">
        <span class="icon text-white-50">
          <i [ngClass]="{'fas': true, 'fa-plus': true}"></i>
        </span>
      <span class="text">New</span>
    </a>
  </div>
</nav>

<div class="container-fluid">

  <app-cipher-stats-summary [cipher]="selectedCipher"></app-cipher-stats-summary>

  <div class="row">

    <div class="col-xl-6 col-lg-7">
      <app-ciphertext></app-ciphertext>
    </div>

    <div class="col-xl-6 col-lg-5">
      <app-plaintext [solution]="solution"></app-plaintext>
    </div>

  </div>

  <div class="row justify-content-end">
    <div class="col-xl-10" *ngIf="hyperparametersForm.get('epochs').value > 1">
      <h4 class="small font-weight-bold">Progress <span class="float-right">{{progressPercentage | number:'1.0-0'}}%</span></h4>
      <div class="progress">
        <div class="progress-bar" role="progressbar" [ngStyle]="{'width': progressPercentage + '%'}" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
    </div>
    <div class="col-xl-1">
      <form class="user" [formGroup]="hyperparametersForm">
        <div class="form-group row">
          <label class="col-md-6 my-auto" for="epochs" matTooltip="Number of times to run the solver, the best solution of which will be displayed in the panel above" matTooltipPosition="above">Epochs</label>
          <input id="epochs" type="text" class="form-control col-md-6" formControlName="epochs" [ngClass]="{'is-invalid': !hyperparametersForm.get('epochs').valid}">
        </div>
        <div class="text-center text-danger small" *ngIf="!hyperparametersForm.get('epochs').valid">Must be a number greater than 0</div>
      </form>
    </div>
    <div class="col-xl-1">
      <a href="javascript:void(0);" class="btn btn-success btn-icon-split float-right" (click)="solve()">
        <span class="icon text-white-50">
          <i [ngClass]="{'fas': true, 'fa-play' : !isRunning, 'fa-spinner' : isRunning, 'fa-spin': isRunning}"></i>
        </span>
        <span class="text">Solve</span>
      </a>
    </div>
  </div>

</div>
